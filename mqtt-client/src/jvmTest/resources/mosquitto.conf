
log_type all
connection_messages true

password_file /mosquitto/config/passwd

listener 1884
allow_anonymous false

listener 8883
socket_domain ipv4
allow_anonymous false
cafile /mosquitto/config/certs/ca.crt
keyfile /mosquitto/config/certs/server.key
certfile /mosquitto/config/certs/server.crt

listener 8080
protocol websockets
allow_anonymous false

listener 8443
protocol websockets
allow_anonymous false
cafile /mosquitto/config/certs/ca.crt
keyfile /mosquitto/config/certs/server.key
certfile /mosquitto/config/certs/server.crt

# Anonymous port must be at the end, see https://github.com/eclipse-mosquitto/mosquitto/issues/2382
listener 1883
allow_anonymous true
